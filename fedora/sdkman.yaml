---
- name: Install sdkman
  import_role:
    name: Comcast.sdkman
  vars:
    sdkman_user: "{{ user.name }}"
    sdkman_group: "{{ user.name }}"
    sdkman_auto_answer: true
    sdkman_update: true
    sdkman_install_packages:
      - { candidate: "java", version: "21.3.0.r17-grl" }
      - { candidate: "java", version: 17.0.0-oracle }
      - { candidate: "gradle", version: "7.2" }
      - { candidate: "maven", version: "3.8.3" }
      - { candidate: "mvnd", version: "0.6.0" }
    sdkman_defaults:
      java: "17.0.0-oracle"
      gradle: "7.2"
      maven: "3.8.3"
      mvnd: "0.6.0"
    sdkman_flush_caches_before:
      - temp
    sdkman_flush_caches_after:
      - archives
      - broadcast
      - candidates
      - temp
    sdkman_offline_mode: false
    sdkman_update_alternatives:
      - candidate: java
        name: java
        link: /usr/bin/java
      - candidate: java
        name: javac
        link: /usr/bin/javac
